.. _cs-registers:

Control and Status Registers
============================

CV32E40P does not implement all control and status registers specified in
the RISC-V privileged specifications, but is limited to the registers
that were needed for the PULP system. The reason for this is that we
wanted to keep the footprint of the core as low as possible and avoid
any overhead that we do not explicitly need.

+---------------------------------------------------------+---------------+---------------+-------+--------------------------------------------------------+
|   CSR Address                                           |   Hex         |   Name        |  Acc. |   Description                                          |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
|   11:10           |   9:8     |   7:6      |   5:0      |               |               |       |                                                        |
+===================+===========+============+============+===============+===============+=======+========================================================+
| 00                | 11        | 00         | 000000     | 0x300         | MSTATUS       | R/W   | Machine Status                                         |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 00         | 000100     | 0x304         | MIE           | R/W   | Machine Interrupt Enable Register                      |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 00         | 000101     | 0x305         | MTVEC         | R/W   | Machine Trap-Handler Base Address                      |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 01         | 000001     | 0x341         | MEPC          | R/W   | Machine Exception Program Counter                      |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 01         | 000010     | 0x342         | MCAUSE        | R/W   | Machine Trap Cause                                     |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 01         | 000100     | 0x344         | MIP           | R     | Machine Interrupt Pending Register                     |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 11         | 010000     | 0x7D0         | MIE1          | R/W   | Machine Interrupt Enable 1 Register                    |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 11         | 010010     | 0x7D2         | MIP1          | R     | Machine Interrupt Pending 1 Register                   |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110000     | 0x7C0         | LPSTART0      | R/W   | Hardware Loop 0 Start (if PULP_HWLP is enabled)        |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110001     | 0x7C1         | LPEND0        | R/W   | Hardware Loop 0 End (if PULP_HWLP is enabled)          |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110010     | 0x7C2         | LPCOUNT0      | R/W   | Hardware Loop 0 Counter (if PULP_HWLP is enabled)      |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110100     | 0x7C4         | LPSTART1      | R/W   | Hardware Loop 1 Start (if PULP_HWLP is enabled)        |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110101     | 0x7C5         | LPEND1        | R/W   | Hardware Loop 1 End (if PULP_HWLP is enabled)          |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110110     | 0x7C6         | LPCOUNT1      | R/W   | Hardware Loop 1 Counter (if PULP_HWLP is enabled)      |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 11                | 00        | 00         | 010000     | 0xC10         | PRIVLV        | R     | Privilege Level                                        |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 11                | 11        | 00         | 010100     | 0xF14         | MHARTID       | R     | Hardware Thread ID                                     |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 100000     | 0x7A0         | TSELECT       | R     | Trigger Select Register                                |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 100001     | 0x7A1         | TDATA1        | R/W   | Trigger Data Register 1                                |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 100010     | 0x7A2         | TDATA2        | R     | Trigger Data Register 2                                |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 100011     | 0x7A3         | TDATA3        | R     | Trigger Data Register 3                                |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 101000     | 0x7A8         | MCONTEXT      | R     | Machine Context Register                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 101010     | 0x7AA         | SCONTEXT      | R     | Machine Context Register                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110000     | 0x7B0         | DCSR          | R/W   | Debug Control and Status                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110001     | 0x7B1         | DPC           | R/W   | Debug PC                                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110010     | 0x7B2         | DSCRATCH0     | R/W   | Debug Scratch Register 0                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 01                | 11        | 10         | 110011     | 0x7B3         | DSCRATCH1     | R/W   | Debug Scratch Register 1                               |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 00         | 000000     | 0xB00         | MCYCLE        | R/W   | (HPM) Machine Cycle Counter                            |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 00         | 000010     | 0xB02         | MINSTRET      | R/W   | (HPM) Machine Instructions-Retired Counter             |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 00         | 0xxxxx     | 0xB03-0xB1F   | MHPMCOUNTERs  | R/W   | (HPM) Machine Performance-Monitoring Counter           |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 10         | 000000     | 0xB80         | MCYCLEH       | R/W   | (HPM) Upper 32 Machine Cycle Counter                   |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 10         | 000010     | 0xB82         | MINSTRETH     | R/W   | (HPM) Upper 32 Machine Instructions-Retired Counter    |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 10                | 11        | 10         | 0xxxxx     | 0xB83-0xB9F   | MHPMCOUNTERHs | R/W   | (HPM) Upper 32 Machine Performance-Monitoring Counter  |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 00         | 100000     | 0x320         | MCOUNTINHIBIT | R/W   | (HPM) Machine Counter-Inhibit Register                 |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+
| 00                | 11        | 00         | 1xxxxx     | 0x323-0x33F   | MPHMEVENTs    | R/W   | (HPM) Machine Performance-Monitoring Event Selector    |
+-------------------+-----------+------------+------------+---------------+---------------+-------+--------------------------------------------------------+

Table 7: Control and Status Register Map

.. only:: USER

  +---------------------------------------------------------+-------------------+-------------+-------+------------------------------------------+
  |   CSR Address                                           |   Hex             |   Name      |  Acc. |   Description                            |
  +-------------------+-----------+------------+------------+-------------------+-------------+-------+------------------------------------------+
  |   11:10           |   9:8     |   7:6      |   5:0      |                   |             |       |                                          |
  +===================+===========+============+============+===================+=============+=======+==========================================+
  | 00                | 00        | 00         | 000101     | 0x005             | UTVEC       | R/W   | User Trap-Handler Base Address           |
  +-------------------+-----------+------------+------------+-------------------+-------------+-------+------------------------------------------+
  | 00                | 00        | 00         | 010100     | 0x014             | UHARTID     | R     | Hardware Thread ID                       |
  +-------------------+-----------+------------+------------+-------------------+-------------+-------+------------------------------------------+
  | 00                | 00        | 01         | 000001     | 0x041             | UEPC        | R/W   | User Exception Program Counter           |
  +-------------------+-----------+------------+------------+-------------------+-------------+-------+------------------------------------------+

  Table 8: Control and Status Register Map (additional CSRs for User mode)

Machine Status (MSTATUS)
------------------------

CSR Address: 0x300

Reset Value: 0x0000_1800

+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                                                                                                                                                                                       |
+=============+===========+=====================================================================================================================================================================================================================================================================+
| 12:11       | R/W       | **MPP:** Machine Previous Priviledge mode, hardwired to 11 when the user mode is not enabled.                                                                                                                                                                       |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 7           | R/W       | **Previous Machine Interrupt Enable:** When an exception is encountered, MPIE will be set to MIE. When the mret instruction is executed, the value of MPIE will be stored to MIE.                                                                                   |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 4           | R/W       | **Previous User Interrupt Enable:** If user mode is enabled, when an exception is encountered, UPIE will be set to UIE. When the uret instruction is executed, the value of UPIE will be stored to UIE. *Note that PULP/issimo does not support USER interrupts.*   |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 3           | R/W       | **Machine Interrupt Enable:** If you want to enable interrupt handling in your exception handler, set the Interrupt Enable MIE to 1’b1 inside your handler code.                                                                                                    |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0           | R/W       | **User Interrupt Enable:** If you want to enable user level interrupt handling in your exception handler, set the Interrupt Enable UIE to 1’b1 inside your handler code. *Note that PULP/issimo does not support USER interrupts.*                                  |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. only:: USER

  User Status (USTATUS)
  ---------------------

  CSR Address: 0x000

  Reset Value: 0x0000_0000

  Detailed:

  +-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
  |   Bit #     |   R/W     |   Description                                                                                                                                                                                                                                                       |
  +=============+===========+=====================================================================================================================================================================================================================================================================+
  | 4           | R/W       | **Previous User Interrupt Enable:** If user mode is enabled, when an exception is encountered, UPIE will be set to UIE. When the uret instruction is executed, the value of UPIE will be stored to UIE. *Note that PULP/issimo does not support USER interrupts.*   |
  +-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
  | 0           | R/W       | **User Interrupt Enable:** If you want to enable user level interrupt handling in your exception handler, set the Interrupt Enable UIE to 1’b1 inside your handler code. *Note that PULP/issimo does not support USER interrupts.*                                  |
  +-------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Machine Interrupt Enable Register (MIE)
---------------------------------------

CSR Address: 0x304

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                            |
+=============+===========+==========================================================================================+
| 31:16       | R/W       | Machine Fast Interrupt Enables: Set bit x+16 to enable fast interrupt irq\_fast\_i[x].   |
+-------------+-----------+------------------------------------------------------------------------------------------+
| 11          | R/W       | **Machine External Interrupt Enable (MEIE)**: If set, irq\_external\_i is enabled.       |
+-------------+-----------+------------------------------------------------------------------------------------------+
| 7           | R/W       | **Machine Timer Interrupt Enable (MTIE)**: If set, irq\_timer\_i is enabled.             |
+-------------+-----------+------------------------------------------------------------------------------------------+
| 3           | R/W       | **Machine Software Interrupt Enable (MSIE)**: if set, irq\_software\_i is enabled.       |
+-------------+-----------+------------------------------------------------------------------------------------------+

Machine Interrupt Pending Register (MIP)
----------------------------------------

CSR Address: 0x344

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+---------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                     |
+=============+===========+===================================================================================================+
| 31:16       | R         | Machine Fast Interrupts Pending: If bit x+16 is set, fast interrupt irq\_fast\_i[x] is pending.   |
+-------------+-----------+---------------------------------------------------------------------------------------------------+
| 11          | R         | **Machine External Interrupt Pending (MEIP)**: If set, irq\_external\_i is pending.               |
+-------------+-----------+---------------------------------------------------------------------------------------------------+
| 7           | R         | **Machine Timer Interrupt Pending (MTIP)**: If set, irq\_timer\_i is pending.                     |
+-------------+-----------+---------------------------------------------------------------------------------------------------+
| 3           | R         | **Machine Software Interrupt Pending (MSIP)**: if set, irq\_software\_i is pending.               |
+-------------+-----------+---------------------------------------------------------------------------------------------------+

Machine Interrupt Enable Register 1 (MIE1)
------------------------------------------

CSR Address: 0x7D0

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+-------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                   |
+=============+===========+=================================================================================================+
| 31:0        | R/W       | Machine Fast Interrupt Enable 1: Set bit x to enable fast interrupt irq\_fast\_i[16+x].         |
+-------------+-----------+-------------------------------------------------------------------------------------------------+

Machine Interrupt Pending Register 1 (MIP1)
-------------------------------------------

CSR Address: 0x7D2

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+-----------------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                             |
+=============+===========+===========================================================================================================+
| 31:0        | R         | Machine Fast Interrupt Pending 1: If bit x is set, fast interrupt irq\_fast\_i[16+x] is pending.          |
+-------------+-----------+-----------------------------------------------------------------------------------------------------------+


HWLoop Start Address 0/1 (LPSTART0/1)
-------------------------------------

CSR Address: 0x7C0/0x7C4

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+-------------------------------------------+
|   Bit #     |   R/W     |   Description                             |
+=============+===========+===========================================+
| 31:0        | R/W       | Start Address of the HWLoop 0/1.          |
+-------------+-----------+-------------------------------------------+

HWLoop End Address 0/1 (LPEND0/1)
---------------------------------

CSR Address: 0x7C1/0x7C5

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+-------------------------------------------+
|   Bit #     |   R/W     |   Description                             |
+=============+===========+===========================================+
| 31:0        | R/W       | End Address of the HWLoop 0/1.            |
+-------------+-----------+-------------------------------------------+

HWLoop Count Address 0/1 (LPCOUNT0/1)
-------------------------------------

CSR Address: 0x7C2/0x7C6

Reset Value: 0x0000_0000

Detailed:

+-------------+-----------+-------------------------------------------+
|   Bit #     |   R/W     |   Description                             |
+=============+===========+===========================================+
| 31:0        | R/W       | Number of iteration of HWLoop 0/1.        |
+-------------+-----------+-------------------------------------------+



Machine Trap-Vector Base Address (MTVEC)
----------------------------------------

CSR Address: 0x305

Reset Value: 0x0000_0001

+-------------+-----------+---------------------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                                 |
+=============+===========+===============================================================================================================+
| 31 : 2      |   R/W     | BASE: The trap-handler base address, always aligned to 256 bytes, i.e., mtvec[7:2] is always set to 0.        |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------+
|  1 : 0      |   R/W     | MODE: 00 = direct mode, 01 = vectored mode. Writes to bit 1 are ignored and this bit always reads as 0.       |
+-------------+-----------+---------------------------------------------------------------------------------------------------------------+


When an exception or an interrupt is encountered, the core jumps to the corresponding
handler using the content of the MTVEC[31:8] as base address. Only
8-byte aligned addresses are allowed. Both direct mode and vectored mode
are supported.

Table 9: MTVEC

.. only:: USER

  User Trap-Vector Base Address (UTVEC)
  -------------------------------------

  CSR Address: 0x005

  +-------------+-----------+---------------------------------------------------------------------------------------------------------------+
  |   Bit #     |   R/W     |   Description                                                                                                 |
  +=============+===========+===============================================================================================================+
  | 31 : 2      |   R/W     | BASE: The trap-handler base address, always aligned to 256 bytes, i.e., utvec[7:2] is always set to 0.        |
  +-------------+-----------+---------------------------------------------------------------------------------------------------------------+
  |  1 : 0      |   R/W     | MODE: 00 = direct mode, 01 = vectored mode. Writes to bit 1 are ignored and this bit always reads as 0.       |
  +-------------+-----------+---------------------------------------------------------------------------------------------------------------+

  When an exception is encountered in user-mode, the core jumps to the
  corresponding handler using the content of the UTVEC[31:8] as base
  address. Only 8-byte aligned addresses are allowed. Both direct mode
  and vectored mode are supported.

  Table 10: UTVEC

Machine Exception PC (MEPC)
---------------------------

CSR Address: 0x341

Reset Value: 0x0000\_0000

+------+-------+
| 31   | 30: 0 |
+======+=======+
| MEPC |       |
+------+-------+

When an exception is encountered, the current program counter is saved
in MEPC, and the core jumps to the exception address. When a mret
instruction is executed, the value from MEPC replaces the current
program counter.

.. only:: USER

  User Exception PC (UEPC)
  ------------------------

  CSR Address: 0x041

  Reset Value: 0x0000_0000

  +------+-------+
  | 31   | 30: 0 |
  +======+=======+
  | UEPC |       |
  +------+-------+

  When an exception is encountered in user mode, the current program
  counter is saved in UEPC, and the core jumps to the exception address.
  When a uret instruction is executed, the value from UEPC replaces the
  current program counter.

Machine Cause (MCAUSE)
----------------------

CSR Address: 0x342

Reset Value: 0x0000_0000

+-------------+-----------+----------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                    |
+=============+===========+==================================================================================+
| 31          |   R       | **Interrupt:** This bit is set when the exception was triggered by an interrupt. |
+-------------+-----------+----------------------------------------------------------------------------------+
|  5 : 0      |   R       | **Exception Code**                                                               |
+-------------+-----------+----------------------------------------------------------------------------------+


Table 11: MCAUSE

.. only:: USER

  User Cause (UCAUSE)
  -------------------

  CSR Address: 0x042

  Reset Value: 0x0000_0000

  +-----------+----+----+----+---+
  | 31 : 4    | 3  | 2  | 1  | 0 |
  +===========+====+====+====+===+
  | Interrupt | Exception Code   |
  +-----------+------------------+

  Detailed:

  +-------------+-----------+------------------------------------------------------------------------------------+
  |   Bit #     |   R/W     |   Description                                                                      |
  +=============+===========+====================================================================================+
  | 31          | R/W       | **Interrupt:** This bit is set when the exception was triggered by an interrupt.   |
  +-------------+-----------+------------------------------------------------------------------------------------+
  | 4:0         | R/W       | **Exception Code**                                                                 |
  +-------------+-----------+------------------------------------------------------------------------------------+

Table 12: MCAUSE

Privilege Level
---------------

CSR Address: 0xC10

Reset Value: 0x0000_0003

+-------------+-----------+-------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                 |
+=============+===========+===============================================================================+
| 31:2        | R         | 0                                                                             |
+-------------+-----------+-------------------------------------------------------------------------------+
| 1:0         | R         | **PRV LVL**: It contains the current privilege level the core is executing.   |
+-------------+-----------+-------------------------------------------------------------------------------+

Table 13: PRIVILEGE LEVEL

.. _csr-mhartid:

MHARTID
---------------

CSR Address: 0xF14

Reset Value: Defined

+-------------+-----------+----------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                  |
+=============+===========+================================================================+
| 31:0        | R         | Hardware Thread ID **hart_id_i**, see  :ref:`core-integration` |
+-------------+-----------+----------------------------------------------------------------+

Table 14: MHARTID

.. only:: USER

  UHARTID
  ---------------

  CSR Address: 0x014

  Reset Value: Defined


  +-------------+-----------+--------------------------------------------------+
  |   Bit #     |   R/W     |   Description                                    |
  +=============+===========+==================================================+
  | 31:0        | R         | Hardware Thread ID                               |
  +-------------+-----------+--------------------------------------------------+

  Table 15: UHARTID

.. only:: PMP

  PMP Configuration (PMPCFGx)
  ---------------------------

  CSR Address: 0x3A{0,1,2,3}

  Reset Value: 0x0000_0000

  +----------+
  | 31 : 0   |
  +==========+
  | PMPCFGx  |
  +----------+

  If the PMP is enabled, these four registers contain the configuration of
  the PMP as specified by the official privileged spec 1.10.

  PMP Address (PMPADDRx)
  ----------------------

  CSR Address: 0x3B{0x0, 0x1, …. 0xF}

  Reset Value: 0x0000_0000

  +----------+
  | 31 : 0   |
  +==========+
  | PMPADDRx |
  +----------+

  If the PMP is enabled, these sixteen registers contain the addresses of
  the PMP as specified by the official privileged spec 1.10.

.. _csr-tselect:

Trigger Select Register (tselect)
---------------------------------

CSR Address: 0x7A0

Reset Value: 0x0000_0000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter).

CV32E40P implements a single trigger, therefore this register will always read as zero


.. _csr-tdata1:

Trigger Data Register 1 (tdata1)
--------------------------------

CSR Address: 0x7A1

Reset Value: 0x2800_1000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter).
Since native triggers are not supported, writes to this register from M-Mode will be ignored.

CV32E40P only implements one type of trigger, Match Control. Most fields of this register will read as a fixed value to reflect the single mode that is supported, in particular, instruction address match as described in the Debug Specification 0.13.2 section 5.2.2 & 5.2.9.


+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:28 | R    | **type:** 2 = Address/Data match trigger type.                   |
+-------+------+------------------------------------------------------------------+
| 27    | R    | **dmode:** 1 = Only debug mode can write tdata registers         |
+-------+------+------------------------------------------------------------------+
| 26:21 | R    | **maskmax:** 0 = Only exact matching supported.                  |
+-------+------+------------------------------------------------------------------+
| 20    | R    | **hit:** 0 = Hit indication not supported.                       |
+-------+------+------------------------------------------------------------------+
| 19    | R    | **select:** 0 = Only address matching is supported.              |
+-------+------+------------------------------------------------------------------+
| 18    | R    | **timing:** 0 = Break before the instruction at the specified    |
|       |      | address.                                                         |
+-------+------+------------------------------------------------------------------+
| 17:16 | R    | **sizelo:** 0 = Match accesses of any size.                      |
+-------+------+------------------------------------------------------------------+
| 15:12 | R    | **action:** 1 = Enter debug mode on match.                       |
+-------+------+------------------------------------------------------------------+
| 11    | R    | **chain:** 0 = Chaining not supported.                           |
+-------+------+------------------------------------------------------------------+
| 10:7  | R    | **match:** 0 = Match the whole address.                          |
+-------+------+------------------------------------------------------------------+
| 6     | R    | **m:** 1 = Match in M-Mode.                                      |
+-------+------+------------------------------------------------------------------+
| 5     | R    | zero.                                                            |
+-------+------+------------------------------------------------------------------+
| 4     | R    | **s:** 0 = S-Mode not supported.                                 |
+-------+------+------------------------------------------------------------------+
| 3     | R    | **u:** 1 = Match in U-Mode.                                      |
+-------+------+------------------------------------------------------------------+
| 2     | RW   | **execute:** Enable matching on instruction address.             |
+-------+------+------------------------------------------------------------------+
| 1     | R    | **store:** 0 = Store address / data matching not supported.      |
+-------+------+------------------------------------------------------------------+
| 0     | R    | **load:** 0 = Load address / data matching not supported.        |
+-------+------+------------------------------------------------------------------+

.. _csr-tdata2:

Trigger Data Register 2 (tdata2)
--------------------------------

CSR Address: 0x7A2

Reset Value: 0x0000_0000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter). Since native triggers are not supported, writes to this register from M-Mode will be ignored.

This register stores the instruction address to match against for a breakpoint trigger.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R    | **data**                                                         |
+-------+------+------------------------------------------------------------------+

Trigger Data Register 3 (tdata3)
--------------------------------

CSR Address: 0x7A3

Reset Value: 0x0000_0000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter).

CV32E40P does not support the features requiring this register. Writes are ignored and reads will always return zero.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R    | 0                                                                |
+-------+------+------------------------------------------------------------------+

Machine Context Register (mcontext)
-----------------------------------

CSR Address: 0x7A8

Reset Value: 0x0000_0000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter).

CV32E40P does not support the features requiring this register. Writes are ignored and reads will always return zero.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R    | 0                                                                |
+-------+------+------------------------------------------------------------------+


Supervisor Context Register (scontext)
--------------------------------------

CSR Address: 0x7AA

Reset Value: 0x0000_0000

Accessible in Debug Mode or M-Mode when trigger support is enabled (using the DbgTriggerEn parameter).

CV32E40P does not support the features requiring this register. Writes are ignored and reads will always return zero.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R    | 0                                                                |
+-------+------+------------------------------------------------------------------+

.. _csr-dcsr:

Debug Control and Status (DCSR)
-------------------------------

CSR Address: 0x7B0

Reset Value: 0x0000_0003

+-------------+-----------+-------------------------------------------------------------------------------------------------+
|   Bit #     |   R/W     |   Description                                                                                   |
+=============+===========+=================================================================================================+
| 31:28       | R         | **xdebugver:** returns 4 - External debug support exists as it is described in this document.   |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 15          | R/W       | **ebreakm**                                                                                     |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 12          | R/W       | **ebreaku**                                                                                     |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 11          | R/W       | **stepi**                                                                                       |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 8:6         | R/W       | **cause**                                                                                       |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 2           | R/W       | **step**                                                                                        |
+-------------+-----------+-------------------------------------------------------------------------------------------------+
| 1:0         | R         | **priv:** returns the current priviledge mode                                                   |
+-------------+-----------+-------------------------------------------------------------------------------------------------+

.. _csr-dpc:

Debug PC (DPC)
--------------

CSR Address: 0x7B1

Reset Value: 0x0000_0000

+----------+
| 31 : 0   |
+==========+
| DPC      |
+----------+

When the core enters in Debug Mode, DPC contains the virtual address of
the next instruction to be executed.

Debug Scratch Register 0/1 (dscratch0/1)
----------------------------------------

CSR Address: 0x7B2/0x7B3

Reset Value: 0x0000_0000

+-------------+
| 31 : 0      |
+=============+
| DSCRATCH0/1 |
+-------------+

Scratch register that can be used by implementations that need it.

Machine Cycle Counter (mcycle)
----------------------------------

CSR Address: 0xB00

Reset Value: 0x0000_0000

The lower 32 bits of the 64 bit machine mode cycle counter.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Upper 32 Machine Cycle Counter (mcycleh)
----------------------------------------

CSR Address: 0xB80

Reset Value: 0x0000_0000

The upper 32 bits of the 64 bit machine mode cycle counter.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Machine Instructions-Retired Counter (minstret)
-----------------------------------------------

CSR Address: 0xB02

Reset Value: 0x0000_0000

The lower 32 bits of the 64 bit machine mode instruction retired counter.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Upper 32 Machine Instructions-Retired Counter (minstreth)
---------------------------------------------------------

CSR Address: 0xB82

Reset Value: 0x0000_0000

The upper 32 bits of the 64 bit machine mode instruction retired counter.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Machine Performance Monitoring Counter (mhpmcounter3 .. mhpmcounter31)
----------------------------------------------------------------------

CSR Address: 0xB03 - 0xB1F

Reset Value: 0x0000_0000

The lower 32 bits of the 64 bit machine mode performance counter.
Non implemented counters always return a read value of 0.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Upper 32 Machine Performance Monitoring Counter (mhpmcounter3h .. mhpmcounter31h)
---------------------------------------------------------------------------------

CSR Address: 0xB83 - 0xB9F

Reset Value: 0x0000_0000

The upper 32 bits of the 64 bit machine mode performance counter.
Non implemented counters always return a read value of 0.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:0  | R/W  | 0                                                                |
+-------+------+------------------------------------------------------------------+

Machine Counter-Inhibit Register (mcountinhibit)
------------------------------------------------

CSR Address: 0x320

Reset Value: 0x0000_000D

The performance counter inhibit control register. The default value is to inihibit counters out of reset.
The bit returns a read value of 0 for non implemented counters. This reset value
shows the result using the default number of performance counters to be 1.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:4  | R/W  | Dependent on number of counters implemented in design parameter  |
+-------+------+------------------------------------------------------------------+
| 3     | R/W  | **selectors:** mhpmcounter3 inhibit                              |
+-------+------+------------------------------------------------------------------+
| 2     | R/W  | minstret inhibit                                                 |
+-------+------+------------------------------------------------------------------+
| 1     | R    | 0                                                                |
+-------+------+------------------------------------------------------------------+
| 0     | R/W  | mcycle inhibit                                                   |
+-------+------+------------------------------------------------------------------+

Machine Performance Monitoring Event Selector (mhpmevent3 .. mhpmevent31)
-----------------------------------------------------------------------------

CSR Address: 0x323 - 0x33F

Reset Value: 0x0000_0000

The event selector fields are further described in Performance Counters section.
Non implemented counters always return a read value of 0.

+-------+------+------------------------------------------------------------------+
| Bit#  | R/W  | Description                                                      |
+=======+======+==================================================================+
| 31:16 | R    | 0                                                                |
+-------+------+------------------------------------------------------------------+
| 15:0  | R/W  | **selectors:** Each bit represent a unique event to count        |
+-------+------+------------------------------------------------------------------+
